"use strict";function getPathFromUrl(e){var t=document.createElement("a");return t.href=e,t.pathname}function showErrorMessage(e){var t=document.getElementById("error-message");showLoading(!1),t.textContent=e,t.style.display="block"}function hideErrorMessage(){document.getElementById("error-message").style.display="none"}function showLoading(e){e?(document.getElementById("loading-indicator-container").style.display="block",document.getElementById("tweet-search-btn").disabled=!0):(document.getElementById("loading-indicator-container").style.display="none",document.getElementById("tweet-search-btn").disabled=!1)}document.addEventListener("DOMContentLoaded",function(){document.getElementById("tweet-search-btn").addEventListener("click",function(e){e.preventDefault(),showLoading(!0);var t=document.getElementById("tweet-link").value,n=new URLSearchParams;n.append("tweetUrl",t),fetch("/tweet",{method:"POST",body:n}).then(function(e){if(e.ok)return e.json();var t=Error();throw t.name="404",t.message=e.statusText,t}).then(function(e){console.log("Data response: ".concat(JSON.stringify(e))),window.sessionStorage.setItem(e.id,JSON.stringify(e)),window.location.href="/tweet/".concat(e.id)}).catch(function(e){showLoading(!1),console.log("Error ".concat(e)),"404"==e.name?showErrorMessage(e.message):showErrorMessage("Network error!")})}),document.getElementById("tweet-link").addEventListener("focus",function(){hideErrorMessage()})});